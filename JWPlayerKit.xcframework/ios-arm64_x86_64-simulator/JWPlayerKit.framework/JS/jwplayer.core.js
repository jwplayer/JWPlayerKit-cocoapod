/*!
   JW Player version 8.36.5
   Copyright (c) 2025, JW Player, All Rights Reserved
   This source code and its use and distribution is subject to the terms
   and conditions of the applicable license agreement.
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.36.5/notice.txt
*/
"use strict";(self.webpackChunkjwplayer_commercial=self.webpackChunkjwplayer_commercial||[]).push([[681],{8377:(t,e,i)=>{i.d(e,{M:()=>s,_:()=>n});const s=function(t,e){let i;const s=t.kind||"cc";return i=t.default||t.defaulttrack?"default":t._id||t.file||s+e,i},n=function(t,e){let i=t.label||t.name||t.language;return i||(i="CC",(e+=1)>1&&(i+=` [${e}]`)),{label:i,unknownCount:e}}},6103:(t,e,i)=>{i.d(e,{VS:()=>g,xl:()=>m});var s=i(7477),n=i(2894),a=i(6886),r=i(7941),o=i(7387),l=i(2957),c=i(4446);const d=t=>{throw new c.rG(null,t)};const h=function(t){return t.map((t=>new s.Z(t.begin,t.end,t.text)))},u=function(t,e,s,a){let u,m,g=t.responseXML?t.responseXML.firstChild:null;if(g)for("xml"===(0,r.r1)(g)&&(g=g.nextSibling);g&&g.nodeType===g.COMMENT_NODE;)g=g.nextSibling;try{if(g&&"tt"===(0,r.r1)(g)){if(!t.responseXML)throw new Error("Empty XML response");u=function(t){t||d(306007);const e=[];let i=t.getElementsByTagName("p"),s=30;const n=t.getElementsByTagName("tt");if(null!=n&&n[0]){const t=parseFloat(n[0].getAttribute("ttp:frameRate")||"");isNaN(t)||(s=t)}i||d(306005),i.length||(i=t.getElementsByTagName("tt:p"),i.length||(i=t.getElementsByTagName("tts:p")));for(let n=0;n<i.length;n++){const a=i[n],r=a.getElementsByTagName("br");for(let e=0;e<r.length;e++){const i=r[e];null!=i&&i.parentNode&&i.parentNode.replaceChild(t.createTextNode("\r\n"),i)}const o=a.innerHTML||a.textContent||a.text||"",c=(0,l.fy)(o).replace(/>\s+</g,"><").replace(/(<\/?)tts?:/g,"$1").replace(/<br.*?\/>/g,"\r\n");if(c){const t=a.getAttribute("begin")||"",i=a.getAttribute("dur")||"",n=a.getAttribute("end")||"",r={begin:(0,l.m9)(t,s),text:c};n?r.end=(0,l.m9)(n,s):i&&(r.end=(r.begin||0)+(0,l.m9)(i,s)),e.push(r)}}return e.length||d(306005),e}(t.responseXML),m=h(u),delete e.xhr,s(m)}else{const r=t.responseText;r.indexOf("WEBVTT")>=0?i.e(347).then(function(t){return i(2776).default}.bind(null,i)).catch((0,n.Jt)(301131)).then((t=>{const i=new t(window);m=[],i.oncue=function(t){m.push(t)},i.onflush=function(){delete e.xhr,s(m)},i.parse(r)})).catch((t=>{delete e.xhr,a((0,c.Mm)(null,c.Y7,t))})):(u=(0,o.Z)(r),m=h(u),delete e.xhr,s(m))}}catch(t){delete e.xhr,a((0,c.Mm)(null,c.Y7,t))}},m=function(t,e,i){t.xhr=(0,a.h)(t.file,(function(s){u(s,t,e,i)}),((t,e,s,n)=>{i((0,c.l9)(n,c.Y7))}))},g=function(t){t&&t.forEach((t=>{const e=t.xhr;e&&(e.onload=null,e.onreadystatechange=null,e.onerror=null,"abort"in e&&e.abort()),delete t.xhr}))}},7387:(t,e,i)=>{i.d(e,{Z:()=>a});var s=i(2957);const n=t=>{const e={},i=t.split(/\r?\n/);let n=1;if(i[0].indexOf(" --\x3e ")>0&&(n=0),i.length>n+1&&i[n+1]){const t=i[n],a=t.indexOf(" --\x3e ");a>0&&(e.begin=(0,s.m9)(t.substr(0,a)),e.end=(0,s.m9)(t.substr(a+5)),e.text=i.slice(n+1).join("\r\n"))}return e};function a(t){const e=[],i=(t=(0,s.fy)(t)).split(/(\r?\n){2}/);for(let t=0;t<i.length;t++){if("WEBVTT"===i[t])continue;const s=n(i[t]);s.text&&e.push(s)}return e}},7477:(t,e,i)=>{i.d(e,{Z:()=>a});let s=window.VTTCue;const n=t=>{if("string"!=typeof t)return!1;return!!{start:!0,middle:!0,end:!0,left:!0,right:!0}[t.toLowerCase()]&&t.toLowerCase()};if(!s){const t="auto";s=function(e,i,s){const a=this;a.hasBeenReset=!1;let r="",o=!1,l=e,c=i,d=s,h=null,u="",m=!0,g=t,p="start",f=t,y=100,v="middle";Object.defineProperty(a,"id",{enumerable:!0,get:()=>r,set(t){r=`${t}`}}),Object.defineProperty(a,"pauseOnExit",{enumerable:!0,get:()=>o,set(t){o=Boolean(t)}}),Object.defineProperty(a,"startTime",{enumerable:!0,get:()=>l,set(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");l=t,this.hasBeenReset=!0}}),Object.defineProperty(a,"endTime",{enumerable:!0,get:()=>c,set(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");c=t,this.hasBeenReset=!0}}),Object.defineProperty(a,"text",{enumerable:!0,get:()=>d,set(t){d=`${t}`,this.hasBeenReset=!0}}),Object.defineProperty(a,"region",{enumerable:!0,get:()=>h,set(t){h=t,this.hasBeenReset=!0}}),Object.defineProperty(a,"vertical",{enumerable:!0,get:()=>u,set(t){const e=(t=>"string"==typeof t&&(!!{"":!0,lr:!0,rl:!0}[t.toLowerCase()]&&t.toLowerCase()))(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");u=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"snapToLines",{enumerable:!0,get:()=>m,set(t){m=Boolean(t),this.hasBeenReset=!0}}),Object.defineProperty(a,"line",{enumerable:!0,get:()=>g,set(e){if("number"!=typeof e&&e!==t)throw new SyntaxError("An invalid number or illegal string was specified.");g=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"lineAlign",{enumerable:!0,get:()=>p,set(t){const e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");p=e,this.hasBeenReset=!0}}),Object.defineProperty(a,"position",{enumerable:!0,get:()=>f,set(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");f=t,this.hasBeenReset=!0}}),Object.defineProperty(a,"size",{enumerable:!0,get:()=>y,set(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");y=t,this.hasBeenReset=!0}}),Object.defineProperty(a,"align",{enumerable:!0,get:()=>v,set(t){const e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}}),a.displayState=void 0},s.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)}}const a=s},5099:(t,e,i)=>{i.d(e,{Z:()=>n});const s=(t,e,i)=>{const s=new Error(i);return s.name=t,s.code=e,s};function n(t){return new Promise((function(e,i){if(t.paused)return i(s("NotAllowedError",0,"play() failed."));let n;const a=function(t){if(n(),"playing"!==t.type){const e=`The play() request was interrupted by a "${t.type}" event.`;return"error"===t.type?i(s("NotSupportedError",9,e)):i(s("AbortError",20,e))}e()},r=function(){t.addEventListener("playing",a),t.addEventListener("abort",a),t.addEventListener("error",a),t.addEventListener("pause",a)};n=function(){t.removeEventListener("play",r),t.removeEventListener("playing",a),t.removeEventListener("pause",a),t.removeEventListener("abort",a),t.removeEventListener("error",a)},t.addEventListener("play",r)}))}},686:(t,e,i)=>{i.d(e,{s:()=>n,v:()=>a});const s=t=>void 0===t?120:Math.max(t,0),n=(t,e)=>t!==1/0&&Math.abs(t)>=Math.max(s(e),0),a=(t,e)=>{let i="VOD";return t===1/0?i="LIVE":t<0&&(i=n(t,s(e))?"DVR":"LIVE"),i}},5678:(t,e,i)=>{i.d(e,{e:()=>s});const s=t=>{var e;const i=1e3*(null==t||null==(e=t.video)?void 0:e.currentTime);return null!=t&&t.startDateTime&&i?new Date(t.startDateTime+i):null}},4667:(t,e,i)=>{i.d(e,{Z:()=>a});var s=i(2799);let n;function a(t){return n||(n=new DOMParser),(0,s.gB)((0,s.oH)(n.parseFromString(t,"image/svg+xml").documentElement))}},1831:(t,e,i)=>{i.d(e,{R:()=>h});var s=i(74),n=i(2894),a=i(328),r=i(1643),o=i(974),l=i(2799),c=i(6042);let d;const h={back:!0,backgroundOpacity:50,edgeStyle:null,edgeColor:"#000000",fontSize:14,fontOpacity:100,fontScale:.05,preprocessor:c.yR,windowOpacity:0},u=function(t){const e=t.player;let a,u,m,g,p,f,y,v,b;const w=document.createElement("div");w.className="jw-captions jw-reset";const k=()=>{const t=e.get("containerHeight");if(!t)return;let i;if(e.get("fullscreen")&&s.OS.iOS)i=null;else{const n=t*y;i=Math.round(10*(t=>{const i=e.get("mediaElement");if(null!=i&&i.videoHeight){const{videoWidth:t,videoHeight:n}=i,a=t/n;let r=e.get("containerHeight"),o=e.get("containerWidth");if(e.get("fullscreen")&&s.OS.mobile){const{screen:t}=window;t.orientation&&(r=t.availHeight,o=t.availWidth)}if(o&&r&&t&&n)return(o/r>a?r:n*o/t)*y}return t})(n))/10}e.get("renderCaptionsNatively")?((t,e)=>{const i=`#${t} .jw-video::-webkit-media-text-track-display`;e&&(e+="px",s.OS.iOS&&(0,o.iv)(i,{fontSize:"inherit"},t,!0)),v.fontSize=e,(0,o.iv)(i,v,t,!0)})(e.get("id"),i):(0,o.oB)(w,{fontSize:i})},_=()=>{if(!(0,c.xV)(a.fontSize))return;e.get("containerHeight")?y=h.fontScale*(a.userFontScale||1)*a.fontSize/h.fontSize:e.once("change:containerHeight",_,this)},C=({edgeStyle:t,edgeColor:e,fontOpacity:i},s)=>{const n=(0,o.HY)(e||"#000000",i);"dropShadow"===(t=t||"uniform")||"dropshadow"===t?s.textShadow=`0 2px 1px ${n}`:"raised"===t?s.textShadow=`0 0 5px ${n}, 0 1px 5px ${n}, 0 2px 5px ${n}`:"depressed"===t?s.textShadow=`0 -2px 1px ${n}`:"uniform"===t?s.textShadow=`-2px 0 1px ${n},2px 0 1px ${n},0 -2px 1px ${n},0 2px 1px ${n},-1px 1px 1px ${n},1px 1px 1px ${n},1px -1px 1px ${n},1px 1px 1px ${n}`:"none"===t&&(s.textShadow="")},M=(t,e)=>{k(),((t,e)=>{s.Browser.safari&&(0,o.iv)(`#${t} .jw-video::-webkit-media-text-track-display-backdrop`,{backgroundColor:e.backgroundColor},t,!0),(0,o.iv)(`#${t} .jw-video::-webkit-media-text-track-display`,v,t,!0),(0,o.iv)(`#${t} .jw-video::cue`,e,t,!0)})(t,e),((t,e)=>{(0,o.iv)(`#${t} .jw-text-track-display`,v,t),(0,o.iv)(`#${t} .jw-text-track-cue`,e,t)})(t,e)};this.show=function(){(0,l.cn)(w,"jw-captions-enabled")},this.hide=function(){(0,l.IV)(w,"jw-captions-enabled")},this.populate=function(t){e.get("renderCaptionsNatively")||(m=[],u=t,t?this.selectCues(t,g):this.renderCues())},this.resize=function(){k(),this.renderCues(!0)},this.renderCues=function(t){t=Boolean(t),d&&d.processCues(window,m,w,t)},this.selectCues=function(t,i){if(!t||!t.data||!i||e.get("renderCaptionsNatively"))return;const s=this.getAlignmentPosition(t,i);!1!==s&&(m=this.getCurrentCues(t.data,s),this.renderCues(!0))},this.getCurrentCues=function(t,e){return(0,c.hX)(t,(function(t){return e>=t.startTime&&(!t.endTime||e<=t.endTime)}))},this.getAlignmentPosition=function(t,e){const i=t.source,s=e.metadata;let n=e.currentTime;return i&&s&&(0,c.hj)(s[i])&&(n=s[i]),n},this.clear=function(){(0,l.cS)(w)},this.setup=function(t,i){p=document.createElement("div"),f=document.createElement("span"),p.className="jw-captions-window jw-reset",f.className="jw-captions-text jw-reset",a=Object.assign({},h,i),y=h.fontScale,b&&e.off("change:captions",b);const s=()=>{_(a.fontSize);const e=a.windowColor,i=a.windowOpacity;v={};const s={};((t,e)=>{const i=e.color,s=e.fontOpacity;if((i||s!==h.fontOpacity)&&(t.color=(0,o.HY)(i||"#ffffff",s)),e.back){const i=e.backgroundColor,s=e.backgroundOpacity;i===h.backgroundColor&&s===h.backgroundOpacity||(t.backgroundColor=(0,o.HY)(i,s))}else t.background="transparent";e.fontFamily&&(t.fontFamily=e.fontFamily),e.fontStyle&&(t.fontStyle=e.fontStyle),e.fontWeight&&(t.fontWeight=e.fontWeight),e.textDecoration&&(t.textDecoration=e.textDecoration)})(s,a),(e||i!==h.windowOpacity)&&(v.backgroundColor=(0,o.HY)(e||"#000000",i)),C(a,s),a.back||null!==a.edgeStyle||(a.edgeStyle="uniform",C(a,s)),(0,o.oB)(p,v),(0,o.oB)(f,s),M(t,s)};b=(t,e)=>{a=Object.assign({},h,e),s()},s(),p.appendChild(f),w.appendChild(p),e.change("captionsTrack",(function(t,e){this.populate(e)}),this),e.set("captions",a),e.on("change:captions",b)},this.element=function(){return w},this.destroy=function(){e.off(null,null,this),this.off()};const P=t=>{g=t,this.selectCues(u,g)},A=(t,e)=>{1!==e.length&&(t.get("renderCaptionsNatively")||d||(i.e(63).then(function(t){d=i(8698).default}.bind(null,i)).catch((0,n.Jt)(301121)).catch((t=>{this.trigger(r.cM,t)})),t.off("change:captionsList",A,this)))};e.on("change:playlistItem",(function(){g=null,m=[]}),this),e.on(r.NZ,(function(t){m=[],P(t)}),this),e.on(r.R2,P,this),e.on("subtitlesTrackData",(function(){this.selectCues(u,g)}),this),e.on("change:captionsList",A,this)};Object.assign(u.prototype,a.ZP)},8168:(t,e,i)=>{i.d(e,{Z:()=>o});var s=i(974),n=i(4667),a=i(5646);const r={};const o=class{constructor(t,e,i,o,l){const c=document.createElement("div");let d;c.className=`jw-icon jw-icon-inline jw-button-color jw-reset ${l||""}`,c.setAttribute("button",o),c.setAttribute("role","button"),c.setAttribute("tabindex","0"),e&&c.setAttribute("aria-label",e),t&&"<svg"===t.substring(0,4)?d=function(t){if(!r[t]){const e=Object.keys(r);e.length>10&&delete r[e[0]];const i=(0,n.Z)(t);r[t]=i}return r[t].cloneNode(!0)}(t):(d=document.createElement("div"),d.className="jw-icon jw-button-image jw-button-color jw-reset",t&&(0,s.oB)(d,{backgroundImage:`url(${t})`})),c.appendChild(d),(0,a.Z)(c,i,this),c.addEventListener("mousedown",(t=>{t.preventDefault()})),this.id=o,this.buttonElement=c}element(){return this.buttonElement}toggle(t){t?this.show():this.hide()}show(){this.buttonElement.style.display=""}hide(){this.buttonElement.style.display="none"}}},5187:(t,e,i)=>{i.d(e,{Z:()=>a});var s=i(974),n=i(2799);const a=class{constructor(t){this.model=t.player}hide(){(0,s.oB)(this.el,{display:"none"})}show(){(0,s.oB)(this.el,{display:""})}setup(t){if(this.el=t,!this.el)return;const e=this.el.getElementsByTagName("div");this.title=e[0],this.description=e[1],this.model.on("change:logoWidth",this.update,this),this.model.change("playlistItem",this.playlistItem,this)}update(t){const e={},i=t.get("logo");if(i){const s=1*parseInt(`${i.margin}`.replace("px",""),10),n=t.get("logoWidth")+(isNaN(s)?0:s+10);"top-left"===i.position?e.paddingLeft=n:"top-right"===i.position&&(e.paddingRight=n)}(0,s.oB)(this.el,e)}playlistItem(t,e){if(e)if(t.get("displaytitle")||t.get("displaydescription")){let i="",s="";"string"==typeof e.title&&t.get("displaytitle")&&(i=e.title),"string"==typeof e.description&&t.get("displaydescription")&&(s=e.description),this.updateText(i,s)}else this.hide()}updateText(t,e){this.title&&this.description&&((0,n.nh)(this.title,(0,n.Ww)(t)),(0,n.nh)(this.description,(0,n.Ww)(e)),this.title.firstChild||this.description.firstChild?this.show():this.hide())}element(){return this.el}}},5646:(t,e,i)=>{i.d(e,{Z:()=>n});var s=i(5882);const n=function(t,e,i){return new s.ZP(t).on("click enter",e,i)}},6436:(t,e,i)=>{i.d(e,{d:()=>a,i:()=>n});var s=i(2799);const n=function(t){let e=-1;return t>=1280?e=7:t>=960?e=6:t>=800?e=5:t>=640?e=4:t>=540?e=3:t>=420?e=2:t>=320?e=1:t>=250&&(e=0),e},a=function(t,e){const i=`jw-breakpoint-${e}`;(0,s.L_)(t,/jw-breakpoint--?\d+/,i)}},8446:(t,e,i)=>{i.d(e,{FM:()=>s});i(2957),i(974);const s=t=>t.replace(/^(.*\/)?(.*)-?.*\.(css).*$/,"$2")},9434:(t,e,i)=>{i.r(e),i.d(e,{default:()=>kt});i(1918);var s=i(1643),n=i(6391),a=i(3905),r=i(5191);const o=["notVisible","always","never"];var l=i(9128),c=i(7263),d=i(8320),h=i(658),u=i(2957),m=i(328),g=i(2303);class p{constructor(t){this.callback=t}async async(...t){if(null!==this.callback)return this.callback(...t)}cancel(){this.callback=null}cancelled(){return null===this.callback}}const f=function(t){return new p(t)};const y=class{constructor(t){this.cancelableOps=[]}add(t){let e;return e=f(((...i)=>(this.remove(e),t(...i)))),this.cancelableOps.push(e),(...t)=>e.async(...t)}remove(t){const e=this.cancelableOps.indexOf(t);-1!==e&&this.cancelableOps.splice(e,1)}cancelAll(){this.cancelableOps.forEach((t=>t.cancel())),this.cancelableOps.length=0}};var v=i(4446),b=i(6042);const w=function(t,e){const i=this.mediaModel,n=Object.assign({},e,{type:t});switch(t){case s.oZ:if(i.get(s.oZ)===n.mediaType)return;i.set(s.oZ,n.mediaType);break;case s.AQ:i.set(s.AQ,e);break;case s.ug:return void i.set(s.ug,Object.assign({},e));case s.gy:if(e[s.gy]===this.model.getMute())return;break;case s.uc:{const{newstate:t}=e;t===s.bc&&(this.thenPlayPromise.cancel(),i.srcReset());const n=i.attributes.mediaState;i.attributes.mediaState=t,i.trigger("change:mediaState",i,t,n);break}case s.Ms:return this.beforeComplete=!0,this.trigger(s.s$,n),void(this.attached&&!this.background&&this._playbackComplete());case s.Ew:i.get("setup")?(this.thenPlayPromise.cancel(),i.srcReset()):(t=s.cM,n.code+=1e5);break;case s.rx:{const{duration:t,metadataType:a,seekRange:r,programDateTime:o}=e;a||(n.metadataType="unknown"),o&&!i.get(s.AQ)&&(i.set(s.AQ,{ready:!0,startDateTime:o}),this.trigger(s.AQ)),(0,b.qh)(t)&&(i.set("seekRange",r),i.set("duration",t));break}case s.uT:i.set("buffer",e.bufferPercent);case s.R2:{const n=e;i.set("seekRange",n.seekRange),i.set("position",n.position),i.set("currentTime",n.currentTime);const a=n.duration;(0,b.qh)(a)&&i.set("duration",a),t===s.R2&&"starttime"in this.item&&delete this.item.starttime;break}case s.aQ:{const t=this.mediaElement;null!=t&&t.paused&&i.set("mediaState","paused");break}case s.UZ:i.set(s.UZ,e.levels);case s.aM:{const{currentQuality:t,levels:s}=e;t>-1&&s.length>1&&i.set("currentLevel",parseInt(t,10));break}case s.j0:i.set(s.j0,e.tracks);case s._B:{const{currentTrack:t,tracks:s}=e;t>-1&&s.length>0&&t<s.length&&i.set("currentAudioTrack",parseInt(t,10));break}}this.trigger(t,n)},k=function(t,e){const i=this.model;switch(t){case s.uc:return;case s.yH:return void i.set(s.yH,e[s.yH]);case s.gy:return void i.set(s.gy,e[s.gy]);case s.TJ:return void i.set("playbackRate",e.playbackRate);case s.rx:Object.assign(i.get("itemMeta"),e.metadata);break;case s.aM:i.persistQualityLevel(e.currentQuality,e.levels);break;case s.UF:i.persistVideoSubtitleTrack(e.currentTrack,e.tracks);break;case s.R2:e.targetLatency&&i.set("dvrSeekLimit",e.targetLatency);case s.NZ:case s.aQ:case s.h7:case s.jt:case"subtitlesTracksData":i.trigger(t,e);break;case s.qG:return void i.persistBandwidthEstimate(e.bandwidthEstimate)}this.trigger(t,e)};var _=i(74),C=i(7753),M=i(9918),P=i(8381);class A extends C.Z{constructor(){super(),this.addAttributes({mediaState:s.bc})}srcReset(){Object.assign(this.attributes,{setup:!1,started:!1,preloaded:!1,visualQuality:null,buffer:0,currentTime:0})}}class x extends C.Z{constructor(){super(),this._lastItemSeekLimit=0,this.providerController=null,this._provider=null,this.addAttributes({mediaModel:new A,minDvrWindow:M.ni,dvrSeekLimit:M.OG})}setup(t){return t=t||{},this._normalizeConfig(t),Object.assign(this.attributes,t,M.bv),this.providerController=new g.Z(this.getConfiguration()),this.setAutoStart(),this}getConfiguration(){const t=this.clone(),e=t.mediaModel.attributes;return Object.keys(M.L4).forEach((i=>{t[i]=e[i]})),t.instreamMode=Boolean(t.instream),delete t.instream,delete t.mediaModel,t}persistQualityLevel(t,e){const i=e[t]||{},{label:s}=i,n=(0,b.qh)(i.bitrate)?i.bitrate:null;this.set("bitrateSelection",n),this.set("qualityLabel",s)}setActiveItem(t){const e=this.get("playlist")[t];this.resetItem(e),this.attributes.playlistItem=null,this.set("item",t),this.set("minDvrWindow",e.minDvrWindow),this._lastItemSeekLimit=e.dvrSeekLimit||0,this.set("dvrSeekLimit",this._lastItemSeekLimit),this.set("playlistItem",e)}setMediaModel(t){this.mediaModel&&this.mediaModel!==t&&this.mediaModel.off(),t=t||new A,this.mediaModel=t,function(t){const e=t.get("mediaState");t.trigger("change:mediaState",t,e,e)}(t)}destroy(){this.attributes._destroyed=!0,this.off(),this._provider&&(this._provider.off(null,null,this),this._provider.destroy(),this._provider=null),this.mediaModel&&this.mediaModel.off(),this.providerController=null}getVideo(){return this._provider}setFullscreen(t){(t=Boolean(t))!==this.get("fullscreen")&&this.set("fullscreen",t)}getProviders(){return this.providerController}setVolume(t){if(!(0,b.qh)(t))return;const e=Math.min(Math.max(0,t),100);this.set("volume",e);const i=0===e;i!==this.getMute()&&this.setMute(i)}getMute(){return this.get("autostartMuted")||this.get("mute")}setMute(t){if(void 0===t&&(t=!this.getMute()),this.set("mute",Boolean(t)),!t){const t=Math.max(10,this.get("volume"));this.set("autostartMuted",!1),this.setVolume(t)}}setStreamType(t){this.set("streamType",t),"LIVE"===t&&this.setPlaybackRate(1),"DVR"===t&&this.set("dvrSeekLimit",this._lastItemSeekLimit||M.OG)}setProvider(t){this._provider=t,((t,e)=>{t.set("provider",e.getName()),!0===t.get("instreamMode")&&(e.instreamMode=!0),t.setPlaybackRate(t.get("defaultPlaybackRate")),t.set("supportsPlaybackRate",e.supportsPlaybackRate),t.set("playbackRate",e.getPlaybackRate()),t.set("renderCaptionsNatively",e.renderNatively)})(this,t)}resetProvider(){this._provider=null,this.set("provider",void 0)}setPlaybackRate(t){var e;(0,b.hj)(t)&&(t=Math.max(Math.min(t,4),.25),"LIVE"===this.get("streamType")&&(t=1),this.set("defaultPlaybackRate",t),null==this||null==(e=this._provider)||null==e.setPlaybackRate||e.setPlaybackRate(t))}persistCaptionsTrack(){const t=this.get("captionsTrack");t?this.set("captionLabel",t.name):this.set("captionLabel","Off")}setVideoSubtitleTrack(t,e){this.set("captionsIndex",t),t&&e&&t<=e.length&&e[t-1].data&&this.set("captionsTrack",e[t-1])}persistVideoSubtitleTrack(t,e){this.setVideoSubtitleTrack(t,e),this.persistCaptionsTrack()}setAutoStart(t){void 0!==t&&this.set("autostart",t);const e=Boolean(_.OS.mobile&&this.get("autostart"));this.set("playOnViewable",e||"viewable"===this.get("autostart"))}setCues(t){const e=this.get("playlistItem");e.chapters=(0,P._b)(t,e.chapters);const i=t.filter((t=>"chapters"!==t.cueType));this.set("cues",i),this.set("playlistItem",e),this.trigger("change:chapters",this)}getCues(){const t=this.get("playlistItem").chapters,e=(0,P.$W)(t,this.mediaModel.get("duration"));return(this.get("cues")||[]).concat(e)}resetItem(t){const e=t?(0,u.m9)(t.starttime):0,i=t?(0,u.m9)(t.duration):0,s=this.mediaModel;this.set("playRejected",!1),this.attributes.itemMeta={},s.set("position",e),s.set("currentTime",0),s.set("duration",i)}persistBandwidthEstimate(t){(0,b.qh)(t)&&this.set("bandwidthEstimate",t)}_normalizeConfig(t){const e=t.floating;e&&Boolean(e.disabled)&&delete t.floating}}const I=x;const E=i(3292).Z.logger.child("jwplayer/program/media-controller");class T extends m.ZP{constructor(t,e){super(),this.attached=!0,this.beforeComplete=!1,this.item=null,this.mediaModel=new A,this.model=e,this.provider=t,this.providerListener=w,this.thenPlayPromise=f((()=>{})),t.off(),t.on("all",this.providerListener,this),this.eventQueue=new l.Z(this,["trigger"],(()=>!this.attached||this.background)),this.playPromise=Promise.resolve(),this.cancelableOps=new y}play(t){const{item:e,model:i,mediaModel:s,provider:n}=this;return this.cancelableOps.cancelAll(),t||(t=i.get("playReason")),i.set("playRejected",!1),s.get("setup")?s.get("started")?n.play()||Promise.resolve():(this.playPromise=this._loadAndPlay(e,n),this._playAttempt(this.playPromise,t)):(s.set("setup",!0),this.playPromise=this._loadAndPlay(e,n),s.get("started")?this.playPromise:this._playAttempt(this.playPromise,t))}stop(){const{provider:t}=this;this.beforeComplete=!1;const e=this.cancelableOps.add((()=>t.stop()));this.playPromise.then(e).catch((t=>{}))}pause(){const{provider:t}=this,e=this.cancelableOps.add((()=>t.pause()));this.playPromise.then(e)}preload(){const{item:t,mediaModel:e,provider:i}=this;!t||t&&"none"===t.preload||!this.attached||this.setup||this.preloaded||(e.set("preloaded",!0),i.preload(t))}destroy(){const{provider:t,mediaModel:e}=this;this.off(),e.off(),t.off(),this.eventQueue.destroy(),this.detach(),t.getContainer()&&t.remove(),this.eventQueue&&this.eventQueue.destroy(),delete t.instreamMode,this.thenPlayPromise&&this.thenPlayPromise.cancel(),this.provider=this.mediaModel=this.model=this.eventQueue=this.item=this.providerListener=this.playPromise=this.thenPlayPromise=null}attach(){const{model:t,provider:e}=this;t.setPlaybackRate(t.get("defaultPlaybackRate")),e.attachMedia(),this.attached=!0,this.eventQueue.flush(),this.beforeComplete&&this._playbackComplete()}detach(){const{provider:t}=this;this.thenPlayPromise.cancel();const e=t.detachMedia();return this.attached=!1,e}_playAttempt(t,e){const{item:i,mediaModel:n,model:a,provider:r}=this,o=r?r.video:null;return this.trigger(s.cq,{item:i,playReason:e}),(o?o.paused:a.get(s.uc)!==s.r0)||a.set(s.uc,s.Kb),t.then((()=>{n.get("setup")&&(n.set("started",!0),n===a.mediaModel&&(t=>{const e=t.get("mediaState");t.trigger("change:mediaState",t,e,e)})(n))})).catch((t=>{if(this.item&&n===a.mediaModel){a.set("playRejected",!0);if(null==o?void 0:o.paused){if(o.src===location.href)return this._loadAndPlay(i,r);n.set("mediaState",s._5)}const l=Object.assign(new v.rG(null,(0,v.nm)(t),t),{error:t,item:i,playReason:e});throw delete l.key,this.trigger(s.Je,l),t}}))}_playbackComplete(){const{item:t,provider:e}=this;t&&delete t.starttime,this.beforeComplete=!1,e.setState(s.xQ),this.trigger(s.Ms,{})}_loadAndPlay(){const{item:t,provider:e}=this,i=e.load(t);if(i){const t=f((()=>this.provider.play()||Promise.resolve()));return this.thenPlayPromise=t,i.then((()=>t.async()))}return e.play()||Promise.resolve()}get audioTracks(){return this.provider.getAudioTracks()}get mediaElement(){return this.provider.video}get preloaded(){return this.mediaModel.get("preloaded")}get qualities(){return this.provider.getQualityLevels()}get setup(){return this.mediaModel.get("setup")}get started(){return this.mediaModel.get("started")}get activeItem(){return this.provider.activeItem}set activeItem(t){const e=this.mediaModel=new A,i=t?(0,u.m9)(t.starttime):0,s=t?(0,u.m9)(t.duration):0,n=e.attributes;e.srcReset(),n.position=i,n.duration=s,this.item=t,this.provider.init(t),this.provider.mute(this.model.getMute()),this.provider.volume(this.model.get("volume"))}get audioTrack(){return this.provider.getCurrentAudioTrack()}set audioTrack(t){this.provider.setCurrentAudioTrack(t)}get background(){if(!this.attached)return!1;const t=this.provider;return!t.getContainer()}set background(t){const e=this.provider;e.video;e.getContainer()&&(t?this.background||(this.thenPlayPromise.cancel(),this.pause(),e.removeFromContainer?e.removeFromContainer():(E.error("Provider should implement `removeFromContainer()` to background provider media view. Calling `provider.setContainer(null)` instead."),e.setContainer(null)),this.container=null):(this.eventQueue.flush(),this.beforeComplete&&this._playbackComplete()))}get container(){return this.provider.getContainer()}set container(t){const{provider:e}=this;e.setContainer(t)}get controls(){return this.provider.controls}set controls(t){this.provider.setControls(t)}get mute(){return this.provider.getMute()}set mute(t){this.provider.mute(t)}get position(){return this.provider.position}set position(t){const{provider:e}=this;this.model.get("scrubbing")&&e.fastSeek?e.fastSeek(t):e.seek(t)}get quality(){return this.provider.getCurrentQuality()}set quality(t){this.provider.setCurrentQuality(t)}get subtitles(){return this.provider.subtitles}set subtitles(t){this.provider.setSubtitlesTrack&&this.provider.setSubtitlesTrack(t)}get volume(){return this.provider.volume}set volume(t){this.provider.volume(t)}}var S=i(393);class O extends Error{constructor(t){super(t),this.code=v._M}}class j{constructor(t,e,i){this.index=t,this.model=e,this.api=i,this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e})),this.async=null,this.asyncPromise=null,this.rejected=!1}set callback(t){this.async=t}get skipped(){return this.rejected}run(){const{api:t,async:e,index:i,model:s,resolve:n,reject:a,promise:r}=this,o=s.get("playlist"),l=this.getItem(i);if(!l){const t=-1===i?"No recs item":`No playlist item at index ${i}`;this.rejected=!0,a(new Error(t))}if(e){this.clear();const r=this.asyncPromise=e.call(t,l,i);null!=r&&r.then?r.then((t=>{if(t&&t!==l&&o===s.get("playlist")){const e=this.replace(t);if(e)return void n(e)}n(l)})).catch((t=>{const e=new O("Item skipped by playlist item callback");e.sourceError=t,this.rejected=!0,a(e)})):this.asyncPromise=null}return this.asyncPromise||n(l),r}getItem(t){const{model:e}=this;if(-1===t)return e.get("nextUp");return e.get("playlist")[t]}replace(t){const{index:e,model:i}=this,s=(0,d.YF)(i,new S.Z(t),t.feedData||{});if(s){if(-1===e)i.set("nextUp",s);else{i.get("playlist")[e]=s}return s}}clear(){this.async=null}destroy(){this.model=this.api=this.promise=this.resolve=this.reject=this.async=this.asyncPromise=null}}const L=(t,e)=>{t.off().on("all",e.mediaControllerListener,e)},R=t=>{var e;return null==t||null==(e=t.sources)?void 0:e[0]};class V extends m.ZP{constructor(t,e,i){super(),this.adPlaying=!1,this.apiContext=i,this.background=function(){let t=null,e=null;return{setNext(t,i){e={item:t,loadPromise:i}},isNext:t=>Boolean(e&&JSON.stringify(e.item.sources[0])===JSON.stringify(t.sources[0])),updateNext(t){e&&(e.item=t)},clearNext(){e=null},get nextLoadPromise(){return e?e.loadPromise:null},get currentMedia(){return t},set currentMedia(e){t=e}}}(),this.mediaPool=e,this.mediaController=null,this.mediaControllerListener=k,this.model=t,this.providers=new g.Z(t.getConfiguration()),this.loadPromise=null,this.backgroundLoading=t.get("backgroundLoading"),this.asyncItems=[],this.itemSetContext=0,this.logger=null==i?void 0:i.utils.logger.child("jwplayer/program/program-controller"),t.set("mediaContainer",{}),this.backgroundLoading||t.set("mediaElement",this.mediaPool.getPrimedElement())}asyncActiveItem(t){const{model:e}=this;return this.getAsyncItem(t).run().then((t=>(clearTimeout(-1),t))).catch((i=>{if(clearTimeout(-1),t<e.get("playlist").length-1)return this.setActiveItem(t+1).then((()=>null));throw i}))}setActiveItem(t){const{background:e,mediaController:i,model:s}=this,n=s.get("playlist")[t];s.attributes.itemReady=!1,i&&(i.mediaModel.off(),s.attributes.mediaModel=new A,s.mediaModel.attributes=i.mediaModel.clone()),e.isNext(n)||this._destroyBackgroundMedia();const a=this.itemSetContext=Math.random();return this.loadPromise=this.asyncActiveItem(t).then((n=>{if(null===n||a!==this.itemSetContext||null===this.providers)return null;s.setActiveItem(t);const r=R(n);if(!r)return Promise.reject(new v.rG(v.ul,v.o2));if(e.isNext(n))return this._destroyActiveMedia(),this._activateBackgroundMedia();if(i){if(s.get("castActive")||this._providerCanPlay(i.provider,r))return i.activeItem=n,this._setActiveMedia(i),i;this._destroyActiveMedia()}return this._setupMediaController(r).then((t=>{if(a===this.itemSetContext)return t.activeItem=n,this._setActiveMedia(t),t})).catch((t=>{throw this._destroyActiveMedia(),t}))}))}setAttached(t){const{mediaController:e}=this;if(this.attached=t,e){if(!t){const t=e.detach(),{item:i,mediaModel:s}=e,n=s.get("position");return n&&(i.starttime=n),t}e.attach()}}playVideo(t){const{mediaController:e,model:i}=this;let n;if(!i.get("playlistItem"))return Promise.reject(new Error("No media"));if(t||(t=i.get("playReason")),e)n=e.play(t);else{i.set(s.uc,s.Kb);const e=f((e=>{if(this.mediaController&&this.mediaController.mediaModel===e.mediaModel)return e.play(t);throw new Error("Playback cancelled.")}));n=(this.loadPromise||Promise.resolve()).catch((t=>{throw e.cancel(),t})).then((()=>e.async()))}return n}stopVideo(){const{mediaController:t,model:e}=this,i=e.get("playlist")[e.get("item")];e.attributes.playlistItem=i,e.resetItem(i),t&&t.stop()}preloadVideo(){const{background:t,mediaController:e}=this,i=e||t.currentMedia;i&&i.preload()}pause(){const{mediaController:t}=this;t&&t.pause()}castVideo(t,e){const{model:i}=this;i.attributes.itemReady=!1;const s=Object.assign({},e),n=s.starttime=i.mediaModel.get("currentTime");s.duration=i.mediaModel.get("duration")||null,this._destroyActiveMedia();const a=new T(t,i);a.activeItem=s,this._setActiveMedia(a),i.mediaModel.set("currentTime",n)}requestCast(t,e){try{(null==e?void 0:e.castProvider)||(this.model.set("castClicked",!0),e.switchProviders("requestCast")),e.castProvider.sendCommand("requestCast",t)}catch(t){throw new Error("No cast controller and/or provider available.")}}stopCast(){const{model:t}=this,e=t.get("item");t.get("playlist")[e].starttime=t.mediaModel.get("currentTime"),this.stopVideo(),this.setActiveItem(e).catch((t=>this.logger.debug(t)))}backgroundActiveMedia(){this.adPlaying=!0;const{background:t,mediaController:e}=this;e&&(t.currentMedia&&this._destroyMediaController(t.currentMedia),e.background=!0,t.currentMedia=e,this.mediaController=null)}restoreBackgroundMedia(){this.adPlaying=!1;const{background:t,mediaController:e}=this,i=t.currentMedia;if(!i)return;if(e&&e!==i)return this._destroyMediaController(i),void(t.currentMedia=null);const n=i.mediaModel.attributes;n.mediaState===s.bc?n.mediaState=s._5:n.mediaState!==s._5&&(n.mediaState=s.Kb),this._setActiveMedia(i),i.background=!1,t.currentMedia=null}backgroundLoad(t,e){const{background:i}=this,s=this.getAsyncItem(e).run().then((t=>{i.updateNext(t);const e=R(t);return this._setupMediaController(e).then((e=>(e.activeItem=t,e.preload(),e)))})).catch((()=>{i.clearNext()}));i.setNext(t,s)}forwardEvents(){const{mediaController:t}=this;t&&L(t,this)}routeEvents(t){const{mediaController:e}=this;e&&(e.off(),t&&L(e,t))}destroy(){this.off(),this._destroyBackgroundMedia(),this._destroyActiveMedia(),this.asyncItems&&this.asyncItems.forEach((t=>{t&&t.destroy()})),this.asyncItems=this.loadPromise=this.mediaControllerListener=this.model=this.providers=this.apiContext=null}_setActiveMedia(t){const{model:e}=this,{mediaModel:i,provider:s}=t;((t,e)=>{const i=t.get("mediaContainer");i?e.container=i:t.once("change:mediaContainer",((t,i)=>{e.container=i}))})(e,t),this.mediaController=t,e.set("mediaElement",t.mediaElement),e.setMediaModel(i),e.setProvider(s),L(t,this),e.set("itemReady",!0)}_destroyActiveMedia(){const{mediaController:t,model:e}=this;t&&t.provider&&(t.detach(),this._destroyMediaController(t),e.resetProvider(),this.mediaController=null)}_destroyBackgroundMedia(){const{background:t}=this;this._destroyMediaController(t.currentMedia),t.currentMedia=null,this._destroyBackgroundLoadingMedia()}_destroyMediaController(t){const{mediaPool:e}=this;t&&t.provider&&(e.recycle(t.mediaElement),t.destroy())}_setupMediaController(t){const{model:e,providers:i}=this,s=t=>new T(new t(e.get("id"),e.getConfiguration(),this.primedElement),e),{provider:n,name:a}=i.choose(t);return n?Promise.resolve(s(n)):i.load(a).then((t=>s(t)))}_activateBackgroundMedia(){const{background:t,background:{nextLoadPromise:e},model:i}=this;return this._destroyMediaController(t.currentMedia),t.currentMedia=null,e.then((e=>{if(e)return t.clearNext(),this.adPlaying?(i.attributes.itemReady=!0,t.currentMedia=e):(this._setActiveMedia(e),e.background=!1),e}))}_destroyBackgroundLoadingMedia(){const{background:t,background:{nextLoadPromise:e}}=this;e&&e.then((e=>{this._destroyMediaController(e),t.clearNext()}))}_providerCanPlay(t,e){const{provider:i}=this.providers.choose(e);return i&&t&&t instanceof i}get audioTracks(){const{mediaController:t}=this;if(t)return t.audioTracks}get mediaElement(){if(this.mediaController)return this.mediaController.mediaElement}get beforeComplete(){const{mediaController:t,background:{currentMedia:e}}=this;return!(!t&&!e)&&(t?t.beforeComplete:e.beforeComplete)}get primedElement(){if(!this.backgroundLoading){const{model:t}=this;return t.get("mediaElement")}return this.mediaPool.getPrimedElement()}get qualities(){const{mediaController:t}=this;return t?t.qualities:null}get audioTrack(){const{mediaController:t}=this;return t?t.audioTrack:-1}set audioTrack(t){const{mediaController:e}=this;e&&(e.audioTrack=parseInt(t,10)||0)}get position(){return this.mediaController.position}set position(t){const{mediaController:e}=this;e&&(e.item.starttime=t,e.attached&&(e.position=t))}get quality(){return this.mediaController?this.mediaController.quality:-1}set quality(t){const{mediaController:e}=this;e&&(e.quality=parseInt(t,10)||0)}set subtitles(t){const{mediaController:e}=this;e&&(e.subtitles=t)}get subtitles(){return this.mediaController.subtitles}setMute(t){const{background:e,mediaController:i,mediaPool:s}=this;i&&(i.mute=t),e.currentMedia&&(e.currentMedia.mute=t)}setVolume(t){const{background:e,mediaController:i,mediaPool:s}=this;i&&(i.volume=t),e.currentMedia&&(e.currentMedia.volume=t)}set itemCallback(t){this.model.set("playlistItemCallback",t),this.asyncItems.forEach((e=>{e&&(e.callback=t)}))}get itemCallback(){return this.model.get("playlistItemCallback")}getAsyncItem(t){let e=this.asyncItems[t];return e||(e=this.asyncItems[t]=new j(t,this.model,this.apiContext),e.callback=this.model.get("playlistItemCallback")),e}clearItemPromises(){this.asyncItems.forEach((t=>{t&&t.reject(new Error("Item playback aborted"))})),this.asyncItems.length=0}}const B=V,N=t=>t===s.xQ||t===s.Vy?s.bc:t;function F(t,e,i){if((e=N(e))!==(i=N(i))){const n=e.replace(/(?:ing|d)$/,""),a=((t,e)=>t===s.Kb?e===s.nQ?e:s.ik:e)(e,t.mediaModel.get("mediaState")),r={type:n,newstate:e,oldstate:i,reason:a};"play"===n?r.playReason=t.get("playReason"):"pause"===n&&(r.pauseReason=t.get("pauseReason")),this.trigger(n,r)}}class q extends B{constructor(t,e){super(t,e);const i=this.model=new I;this.playerModel=t,this.provider=null,this.backgroundLoading=t.get("backgroundLoading"),i.mediaModel.attributes.mediaType="video"}setup(){const{model:t,playerModel:e,primedElement:i}=this,n=e.attributes,a=e.mediaModel;t.setup({id:n.id,volume:n.volume,instreamMode:!0,edition:n.edition,mediaContext:a,mute:n.mute,streamType:"VOD",autostartMuted:n.autostartMuted,autostart:n.autostart,advertising:n.advertising,sdkplatform:n.sdkplatform,skipButton:!1}),t.on("change:state",F,this),t.on(s.pn,(function(t){this.trigger(s.pn,t)}),this)}setActiveItem(t){return this.adPlaying=!0,this.stopVideo(),this.provider=null,super.setActiveItem(t).then((t=>(this.trigger(s.$_),this._setProvider(t.provider),this.playVideo())))}usePsuedoProvider(t){t&&(this._setProvider(t),t.off(s.pn),t.on(s.pn,(function(t){this.trigger(s.pn,t)}),this))}_setProvider(t){if(!t||!this.mediaPool)return;this.provider=t;const{model:e,playerModel:i}=this,n="vpaid"===t.type;t.off(),t.on("all",(function(t,e){n&&t===s.Ms||this.trigger(t,Object.assign({},e,{type:t}))}),this);const a=e.mediaModel;t.on(s.uc,(t=>{t.oldstate=t.oldstate||e.get(s.uc),a.set("mediaState",t.newstate)})),t.on(s.h7,this._nativeFullscreenHandler,this),a.on("change:mediaState",((t,e)=>{this._stateHandler(e)})),t.attachMedia();{const e=i.get("mediaContainer");t.setContainer(e)}t.volume(i.get("volume")),t.mute(i.getMute()),t.setPlaybackRate&&t.setPlaybackRate(1),i.on("change:volume",(function(t,e){this.volume=e}),this),i.on("change:mute",(function(t,e){this.mute=e,e||(this.volume=i.get("volume"))}),this),i.on("change:autostartMuted",(function(t,s){s||(e.set("autostartMuted",s),this.mute=i.get("mute"))}),this)}destroy(){this.adPlaying=!1;const{model:t,mediaPool:e,playerModel:i}=this;return t.off(),super.destroy(),this.provider&&(this.provider.remove(),this.provider=null),void t.off()}srcReset(){const{playerModel:t}=this,e=t.get("mediaModel"),i=t.getVideo();e.srcReset(),i&&(i.src=null)}_nativeFullscreenHandler(t){this.model.trigger(s.h7,t),this.trigger(s.UW,{fullscreen:t.jwstate})}_stateHandler(t){const{model:e}=this;switch(t){case s.r0:case s._5:e.set(s.uc,t)}}get mute(){return this.provider.getMute()}set mute(t){const{mediaController:e,model:i,provider:s}=this;i.set("mute",t),super.setMute(t),e||s.mute(t)}get volume(){return this.provider.volume}set volume(t){const{mediaController:e,model:i,provider:s}=this;i.set("volume",t),super.setVolume(t),e||s.volume(t)}}const $={skipoffset:null,tag:null},H=function(t,e,i,n){let a,r,o=new q(e,n),l=0,c={},d=null,m={};const g=()=>{l++,this.loadItem(a).catch((function(e){t.logger.debug("instream-adapter: ",e)}))},p=function(t){c={},a&&l+1<a.length?g():(t.type===s.Ms&&this.trigger(s.V$,{}),this.destroy())},f=function(t){const e={};m.tag&&(e.tag=m.tag),this.trigger(s.Ms,e),p.call(this,t)};let y,v,b=p,w=!1,k=!1,_=!1,C=!1,M=!0;const P=i=>{k||((i=i||{}).hasControls=Boolean(e.get("controls")),this.trigger(s.l5,i),o&&(o.model.get("state")===s._5?i.hasControls&&o.playVideo().catch((function(e){t.logger.debug("instream-adapter: ",e)})):o.pause()))},A=()=>{k||o.model.get("state")===s._5&&e.get("controls")&&(t.setFullscreen(),t.play())},x=function(e){const{duration:i,position:s}=e,n=o.model.mediaModel||o.model;n.set("duration",i),n.set("position",s),v||(v=((0,u.U5)(y,i)||i)-h.l_),!w&&s>=Math.max(v,h.HB)&&(t.preloadNextItem(),w=!0)},I=function(t,e){"complete"!==t&&(e=e||{},m.tag&&!e.tag&&(e.tag=m.tag),this.trigger(t,e),"mediaError"!==t&&"error"!==t||this.loadNextItemOnError())},E=function(){o.model.set("playRejected",!0)},T=function(s){s.width&&s.height&&i&&i.resizeMedia(),e.get("pip")&&t.requestPip(o.primedElement)},S=function(e){const{newstate:i}=e;i===s.r0?t.trigger(s.WE,e):i===s._5&&t.trigger(s.Ax,e)},O=function(t){const{newstate:e}=t,i=t.oldstate||o.model.get("state");"buffering"===i&&"playing"===e&&this.resolveAdPlayPromise&&this.resolveAdPlayPromise(),i!==e&&S(Object.assign({oldstate:i},c,t))};this.initAdPlayPromise=function(){return M=!1,this.adPlayPromise=new Promise(((t,e)=>{this.resolveAdPlayPromise=this.didAdPlay.bind(this,!0,t),this.rejectAdPlayPromise=this.didAdPlay.bind(this,!1,e)})),this.adPlayPromise},this.didAdPlay=function(t,i){this.resolveAdPlayPromise=null,this.rejectAdPlayPromise=null,e.set("instream",t?o:null),i()},this.init=function(){var n,a;if(_||k)return;if(_=!0,c={},o.setup(),o.on("all",I,this),o.on(s.Je,E,this),o.on(s.R2,x,this),o.on(s.Ms,f,this),o.on(s.rx,T,this),o.on(s.uc,O,this),e.get("playlistItem").daiSetting&&(this.cachedBgLoadValue=e.get("backgroundLoading"),e.set("backgroundLoading",!1)),d=t.detachMedia(),M&&e.set("instream",o),o.model.set("state",s.Kb),i){const t=i.clickHandler();t&&t.setAlternateClickHandlers((()=>{}),null)}const r=M?null==(n=e.get("localization"))||null==(a=n.advertising)?void 0:a.loadingAd:null;return this.setText(r),C=t.isBeforeComplete()||e.get("state")===s.xQ,this};const j=n=>{if(!i)return;const a=i.clickHandler();a&&a.setAlternateClickHandlers((i=>{k||((i=i||{}).hasControls=Boolean(e.get("controls")),this.trigger(s.l5,i),n&&(e.get("state")===s._5?t.playVideo():(t.pause(),n&&(t.trigger(s.Rt,{clickThroughUrl:n}),window.open(n)))))}),null)};this.enableAdsMode=function(i){if(!_&&!k)return t.routeEvents({mediaControllerListener:(t,e)=>{this.trigger(t,e)}}),e.set("instream",o),o.model.set("state",s.r0),j(i),this},this.setEventData=function(t){c=t},this.setState=function(t){const{newstate:e}=t,i=o.model;t.oldstate=i.get("state"),i.set("state",e),S(t)},this.setTime=function(e){x(e),t.trigger(s.uL,e)},this.loadNextItemOnError=function(){a&&l+1<a.length&&g()};const L=function(){!k&&i&&i.clickHandler()&&i.clickHandler().setAlternateClickHandlers(P,A)};this.loadItem=(t,i)=>{if(k||!_)return Promise.reject(new Error("Instream not setup"));c={};let n=t;Array.isArray(t)?(a=t,r=i||r,t=a[l],r&&(i=r[l])):n=[t],n=n.map((t=>{const e=Object.assign({},t);return delete e.vastAd,e}));const h=o.model;h.set("playlist",n),e.set("hideAdsControls",!1),t.starttime=0,this.trigger(s.gO,{index:l,item:t}),m=Object.assign({},$,i),L(),h.set("skipButton",!1);const u=!e.get("backgroundLoading")&&d?d.then((()=>o.setActiveItem(l))):o.setActiveItem(l);return w=!1,y=t.skipoffset||m.skipoffset,void 0!==y&&this.setupSkipButton(y,m),u},this.setupSkipButton=function(t,e,i){const s=o.model;b=i||p,s.set("skipMessage",e.skipmessage),s.set("skipText",e.skiptext),s.set("skipOffset",t),s.attributes.skipButton=!1,s.set("skipButton",!0)},this.applyProviderListeners=function(t){o.usePsuedoProvider(t),L()},this.play=function(){c={},o.playVideo()},this.pause=function(){c={},o&&o.pause()},this.skipAd=function(t){const i=e.get("autoPause").pauseAds,n="autostart"===e.get("playReason"),a=e.get("viewable");!i||n||a||(this.noResume=!0);const r=s.k3;this.trigger(r,t),b.call(this,{type:r})},this.replacePlaylistItem=function(t){k||(e.set("playlistItem",t),o.srcReset())},this.destroy=()=>{k||(this.setText(""),k=!0,this.adPlayPromise&&this.rejectAdPlayPromise&&this.rejectAdPlayPromise(),this.adPlayPromise=null,this.trigger("destroyed"),this.off(),null!=i&&null!=i.clickHandler&&i.clickHandler()&&i.clickHandler().revertAlternateClickHandlers(),e.off(null,null,o),o.off(null,null,this),o.destroy(),_&&e.get("instream")&&(e.attributes.state=s._5),t.forwardEvents(),e.set("instream",null),o=null,c={},d=null,_&&!e.attributes._destroyed&&(t.attachMedia(),e.get("pip")&&t.requestPip(),this.noResume||(C||t.playVideo(),this.cachedBgLoadValue&&e.set("backgroundLoading",this.cachedBgLoadValue))))},this.getState=function(){return!k&&o.model.get("state")},this.setText=function(t){if(!this.resolveAdPlayPromise&&!this.rejectAdPlayPromise)return k||!i||i.setAltText(t||""),this},this.hide=function(){k||e.set("hideAdsControls",!0)},this.getMediaElement=function(){return k?null:o.primedElement},this.setSkipOffset=function(t){y=t>0?t:null,o&&o.model.set("skipOffset",y)}};Object.assign(H.prototype,m.ZP);const Z=H;var D=i(6103),Q=i(8377);class U{constructor(t){this._model=t,this._tracks=[],this._tracksById={},this._unknownCount=0,this._defaultIndex=0,this._model.on("change:playlistItem",(t=>{this._tracks=[],this._tracksById={},this._unknownCount=0;const e=t.attributes;e.captionsIndex=0,e.captionsList=this._captionsMenu(),t.set("captionsTrack",null)}),this),this._model.on("change:itemReady",(()=>{this._model.get("castActive")&&(this._tracks=[],this._tracksById={},this._unknownCount=0);const t=this._model.get("playlistItem").tracks,e=null==t?void 0:t.length;if(e&&!this._model.get("renderCaptionsNatively"))for(let i=0;i<e;i++){const e=t[i];e.includedInManifest||!this._kindSupported(e.kind)||this._tracksById[e._id]||(e.sideloaded=!0,this._addTrack(e),(0,D.xl)(e,(t=>{this._addVTTCuesToTrack(e,t)}),(t=>{this.trigger(s.cM,t)})))}this._setCaptionsList()}),this),this._model.on("change:captionsIndex",((t,e)=>{let i=null;0!==e&&(i=this._tracks[e-1]),t.set("captionsTrack",i)}),this)}setSubtitlesTracks(t){Array.isArray(t)&&(t.length?(t.forEach((t=>this._addTrack(t))),this._tracks.sort(((e,i)=>{const s=t.indexOf(e);if(-1===s)return 1;const n=t.indexOf(i);return-1===n?-1:s-n}))):(this._tracks=[],this._tracksById={},this._unknownCount=0),this._setCaptionsList())}_kindSupported(t){return"subtitles"===t||"captions"===t}_addVTTCuesToTrack(t,e){t.data=e}_addTrack(t){t.data=t.data||[],t.name=t.label||t.name||t.language;const e=(0,Q.M)(t,this._tracks.length);if(this._tracksById[e]&&(t.name=this._tracksById[e].name),!t.name){const e=(0,Q._)(t,this._unknownCount);t.name=e.label,this._unknownCount=e.unknownCount}t._id=e,this._tracksById[e]=t,this._tracks=this._tracks.filter((t=>t._id!==e)),this._tracks.push(t)}_captionsMenu(){const t=[{id:"off",label:"Off"}];this._model.get("castActive")&&(this._tracks=this._tracks.filter((t=>-1!==t._id.indexOf("nativesubtitles"))));for(let e=0;e<this._tracks.length;e++)t.push({id:this._tracks[e]._id,label:this._tracks[e].name,language:this._tracks[e].subtitleTrack?this._tracks[e].subtitleTrack.lang:this._tracks[e].language});return t}selectDefaultIndex(t){let e=this._defaultIndex=t;const i=this._model.get("captionLabel");if("Off"!==i){for(let t=0;t<this._tracks.length;t++){const s=this._tracks[t];if(i&&i===s.name){e=t+1;break}s.default||s.defaulttrack||"default"===s._id?e=t+1:s.autoselect}this._setCurrentIndex(e)}else this._model.set("captionsIndex",0)}_setCurrentIndex(t){this._tracks.length?this._model.setVideoSubtitleTrack(t,this._tracks):this._model.set("captionsIndex",t)}_setCaptionsList(){const t=this._captionsMenu();this.listIdentity(t)!==this.listIdentity(this._model.get("captionsList"))&&(this._model.set("captionsList",t),this.selectDefaultIndex(this._defaultIndex))}listIdentity(t){return t.map((t=>`${t.id}-${t.label}`)).join(",")}getCurrentIndex(){return this._model.get("captionsIndex")}getCaptionsList(){return this._model.get("captionsList")}destroy(){this.off(null,null,this)}}Object.assign(U.prototype,m.ZP);i(4225),i(4671),i(6875),i(1776),i(6436),i(8446),i(4601);var W=i(2799);i(2268),i(974);i(5882);i(1831),i(5646);i(3296);i(5187);const z=[];let J=null;const K={floatingPlayer:J};Object.defineProperty(K,"floatingPlayer",{get:()=>J,set:t=>{if(t===J)return;J=t;const e=z.slice();z.length=0,e.forEach((t=>{t.startFloating()}))}});i(9926);_.OS.mobile,_.Browser.ie;window.$sf;const G=function(t,e){this.playerElement=t,this.wrapperElement=e};Object.assign(G.prototype,{setup(t){const e=(0,W.az)((t=>`<span class="jw-text jw-reset">${t}</span>`)(t));this.wrapperElement.appendChild(e),(0,W.cn)(this.playerElement,"jw-flag-top")}});i(8168);null!=(Y=window)&&null!=(X=Y.URL)&&X.createObjectURL?Y.URL:Y.webkitURL||Y.mozURL;var Y,X;window.Blob;var tt=i(686),et=i(7543),it=i(6563);const st="tabVisible";class nt extends it.Z{getFirstFrame(){const t=this.between(s.cq,s.FU),e=this.between(st,s.FU);return e&&t&&e>0&&e<t?e:t}}const at=function(t,e){e.off(s.cq,t._onPlayAttempt),e.off(s.Gj,t._triggerFirstFrame),e.off(s.R2,t._onTime),t.off("change:activeTab",t._onTabVisible),t._triggerFirstFrame=t._onTime=null},rt=function(t,e){t.change("mediaModel",(function(t,i,n){t._qoeItem&&n&&t._qoeItem.end(n.get("mediaState")),t._qoeItem=new nt,t._qoeItem.tick(s.gO),t._qoeItem.start(i.get("mediaState")),function(t,e){t._onTabVisible&&at(t,e);let i=!1;t._triggerFirstFrame=function(n){if(i||!e.mediaController)return;const a=e.mediaController.mediaModel,r=a.attributes.mediaState;if(r!==s.r0&&r!==s._5&&n.type!==s.Gj)return;i=!0;const o=t._qoeItem;o.tick(s.FU);const l=o.getFirstFrame();e.trigger(s.FU,{loadTime:l}),a.off(`change:${s.ug}`,null,a),a.change(s.ug,((t,i)=>{i&&e.trigger(s.ug,i)}),a),at(t,e)},t._onTime=function(t){let e=0;return function(i){const s=i.position;s>e&&t(i),e=s}}(t._triggerFirstFrame),t._onPlayAttempt=function(){this._qoeItem.tick(s.cq)},t._onTabVisible=function(t,e){e?t._qoeItem.tick(st):t._qoeItem.tick("tabHidden")},t.on("change:activeTab",t._onTabVisible),e.on(s.cq,t._onPlayAttempt,t),e.once(s.Gj,t._triggerFirstFrame),e.on(s.R2,t._onTime)}(t,e),i.on("change:mediaState",(function(e,i,s){i!==s&&(t._qoeItem.end(s),t._qoeItem.start(i))}))}))};var ot=i(5950),lt=i(2557),ct=i(5678);i(3642),i(1237);const dt=function(){},ht=function(){};dt.prototype.set=function(t,e){return this._model.set(t,e)},Object.assign(dt.prototype,{destroy(){var t,e;this.off(),this.stop(),(0,a.c2)(this,this.originalContainer),this._view&&this._view.destroy(),this._model&&(t=this._model,e=this._programController,t._onTabVisible&&at(t,e),t._qoeItem=t._triggerFirstFrame=t._onTime=t._onPlayAttempt=t._onTabVisible=null,this._model.destroy()),this._apiQueue&&this._apiQueue.destroy(),this._captions&&this._captions.destroy(),this._programController&&this._programController.destroy(),this.instreamDestroy(!0),this._view=this._model=this._apiQueue=this._captions=this._programController=null,this.clearSetupVars&&this.clearSetupVars()},playerSetup(t,e,i,a,u,g){var p;let y,w=this,k=w._model=new I;k.set("jwStart",(0,ot._N)(window.location.search)),k.set("isReady",!1);let C,M,A,x=!1,E=!1,T=null,S=f(D),O=f(ht);const j=null==(p=e.utils)?void 0:p.logger.child("jwplayer/controller/controller");w.originalContainer=w.currentContainer=i,w._events=a,w.trigger=function(t,e){const i=function(t,e,i){let s=i;switch(e){case"time":case"beforePlay":case"pause":case"play":case"ready":{const e=t.get("viewable");void 0!==e&&(s=Object.assign({},i,{viewable:e}));break}}return s}(k,t,e);return m.ZP.trigger.call(this,t,i)};let L=new l.Z(w,["trigger"],(()=>!0));const R=(t,e)=>{w.trigger(t,e)};k.setup(t),k.attributes.visibility=1;let V=this._programController=new B(k,g,e._publicApi);_t(),V.on("all",R,w).on("subtitlesTracks",(t=>{}),w).on(s.Ms,(()=>{Promise.resolve().then(vt)}),w).on(s.Ew,w.triggerError,w),rt(k,V),w.clearSetupVars=function(){L&&L.destroy(),w=V=k=y=S=O=A=L=null},k.on(s.pn,w.triggerError,w),k.on("change:state",((t,e,i)=>{Y()||F.call(this,t,e,i)}),this),k.on("change:castState",(function(t,e){w.trigger(s.pi,e)})),k.on("change:fullscreen",(function(t,e){w.trigger(s.UW,{fullscreen:e}),e&&t.set("playOnViewable",!1)})),k.on("change:volume",(function(t,e){w.trigger(s.yH,{volume:e})})),k.on("change:mute",(function(t){w.trigger(s.gy,{mute:t.getMute()})})),k.on("change:playbackRate",(function(t,e){w.trigger(s.QF,{playbackRate:e,position:t.get("position")})}));const N=function(t,e){"clickthrough"===e||"interaction"===e||"external"===e?(k.set("playOnViewable",!1),k.off("change:playReason change:pauseReason",N)):!e&&k.get("autostart")&&"playing"===Y()&&k.set("playReason","autostart")};function q(){k.change("visibility",$),k.change("containerViewable",H),L.off(),k.set("isReady",!0),w.trigger(s.Rc,{setupTime:0}),k.change("playlist",(function(t,e){if(e.length){const t={playlist:e},i=k.get("feedData");i&&(t.feedData=Object.assign({},i)),w.trigger(s.Ow,t)}})),k.change("playlistItem",(function(t,e){if(e){const{title:i,image:n}=e;if("mediaSession"in navigator&&window.MediaMetadata&&(i||n))try{navigator.mediaSession.metadata=new window.MediaMetadata({title:i,artist:window.location.hostname,artwork:[{src:n||""}]})}catch(t){j.debug(t)}e.chapters||t.setCues([]),w.trigger(s.gO,{index:k.get("item"),item:e})}})),L.flush(),L.destroy(),L=null,k.change("viewable",Q),k.change("viewable",J),k.get("autoPause").viewability?k.change("viewable",G):k.once("change:autostartFailed change:mute",(function(t){t.off("change:viewable",J)})),D(),k.on("change:itemReady",((t,e)=>{e&&(A.flush(),y&&k.get("pip")&&!w._instreamAdapter&&y.requestPip())}))}function $(t,e){(0,b.o8)(e)||k.set("viewable",Math.round(e))}function H(t,e){(0,b.o8)(e)||(k.set("containerViewable",e),w.trigger("containerViewable",{viewable:e}))}function D(){A&&(k.get("generateSEOMetadata")&&k.get("jwStart")>=0?(w._model.setAutoStart("viewable"),w._model.set("playReason","jwstart"),k.get("viewable")?J(k,k.get("viewable")):G(k,k.get("viewable"))):!0!==k.get("autostart")||k.get("playOnViewable")||at("autostart"),A.flush())}function Q(t,e){w.trigger("viewable",{viewable:e}),U()}function U(){n.Z[0]!==e&&1!==k.get("viewable")||"idle"===k.get("state")&&!1===k.get("autostart")&&V.preloadVideo()}function W(t){w._instreamAdapter.noResume=!t,t||ut({reason:"viewable"})}function z(t){t||(w.pause({reason:"viewable"}),k.set("playOnViewable",!t))}function J(t,e){const i=Y();if(t.get("playOnViewable")){if(e){const e="viewable",n=t.get("autoPause").pauseAds,a=t.get("pauseReason");X()===s.bc?at(e):i&&!n||"interaction"===a||it({reason:e})}else _.OS.mobile&&!i&&t.get("autoPause").viewability&&(w.pause({reason:"autostart"}),k.set("playOnViewable",!0));_.OS.mobile&&i&&W(e)}}function K(t,e){t.get("floating")&&!t.get("floatingStoppedForever")&&"never"!==t.get("floating").mode&&t.get("intersectionRatio")<=.5&&t.get("activeTab")&&(e=1),z(e)}function G(t,e){const i=t.get("state"),n=Y(),a=t.get("playReason");n?t.get("autoPause").pauseAds?K(t,e):W(e):i===s.r0||i===s.Kb?K(t,e):i===s.bc&&"playlist"===a&&t.once("change:state",(()=>{z(e)}))}function Y(){const t=w._instreamAdapter;return!!t&&t.getState()}function X(){const t=Y();return t||k.get("state")}function it(t){if(S.cancel(),E=!1,k.get("state")===s.Vy)return Promise.resolve();const i=nt(t);k.set("playReason",i);const n=Y();return n?n===s.Kb&&w.get("buffer")>0?st(t,i):(k.get("autostart")&&"paused"===n&&k.set("playReason","autostart"),w._instreamAdapter.off("state",pt,w),e.pauseAd(!1,t),Promise.resolve()):k.get("state")===s.xQ?(dt(!0),w.setItemIndex(0).then((()=>st(t,i)))):st(t,i)}function st(t,e){if(!x&&(x=!0,w.trigger(s.$j,{playReason:e,state:X(),startTime:null!=t&&t.startTime?t.startTime:k.get("playlistItem").starttime}),x=!1,(0,et.C)()&&!g.primed()&&g.prime(),"playlist"===e&&k.get("autoPause").viewability&&G(k,k.get("viewable")),M)){if((0,et.C)()&&!k.get("backgroundLoading")){const t=k.get("mediaElement");w._instreamAdapter&&(t.preload="none"),t.load()}return M=!1,C=null,Promise.resolve()}return V.playVideo(e).then(g.played)}function nt(t){return null!=t&&t.reason?t.reason:null!=t&&t.startTime?"jwstart":"unknown"}function at(t){if(X()!==s.bc)return;S=f(D);const e=k.get("advertising");Promise.resolve.bind(Promise)(g,{cancelable:S,muted:w.getMute(),allowMuted:!e||e.autoplayadsmuted}).then((e=>(k.set("canAutoplay",e),!0!==e||w.getMute()||(k.set("autostartMuted",!0),_t(),k.once("change:autostartMuted",(function(t){k.get("autoPause").viewability||k.get("playOnViewable")||t.off("change:viewable",J),w.trigger(s.gy,{mute:k.getMute()})}))),it({reason:t}).catch((()=>{w._instreamAdapter||k.set("autostartFailed",!0),C=null}))))).catch((t=>{if(k.set("canAutoplay",!0),k.set("autostart",!1),!S.cancelled()){const e=(0,v.nm)(t);w.trigger(s.wh,{reason:t.reason,code:e,error:t})}}))}function dt(t){S.cancel(),A.empty(),!k.get("autostart")&&k.get("playOnViewable")&&k.set("playOnViewable",!1);if(Y()){const t=w._instreamAdapter;return t&&(t.noResume=!0),void(C=()=>{C=null,V.stopVideo()})}C=null,!t&&(E=!0),x&&(M=!0),k.set("errorEvent",void 0),V.stopVideo()}function ut(t){const e=nt(t);k.set("pauseReason",e),k.set("playOnViewable","viewable"===e)}function mt(t){C=null,S.cancel();const i=w.get("buffer"),n=Y();var a;if(n&&n!==s._5)ut(t),n===s.Kb?(null==(a=y)||a.once("dismissFloating",gt),i>0&&w._instreamAdapter.once("state",(i=>{i.oldstate!==s.Kb&&i.oldstate!==s.ik||i.newstate!==s.r0||e.pauseAd(!0,t)}))):e.pauseAd(!0,t);else switch(k.get("state")){case s.Vy:return;case s.r0:ut(t),V.pause();break;case s.Kb:ut(t),V.pause(),0===i&&(M=!0);break;default:x&&(M=!0)}}function gt(){w._instreamAdapter.once("state",pt),w._instreamAdapter.noResume=!0}function pt(){const t=k.get("pauseReason");e.pauseAd(!0,{reason:t})}function ft(t,e){w.instreamDestroy(),dt(!0),w.setItemIndex(t),w.play(e)}function yt(t){ft(k.get("item")+1,t)}function vt(){w.completeCancelled()||(C=w.completeHandler,w.shouldAutoAdvance()?w.nextItem():k.get("repeat")?yt({reason:"repeat"}):(_.OS.iOS&&kt(!1),k.set("playOnViewable",!1),k.set("state",s.xQ),w.trigger(s.V$,{})))}function bt(t,e){t=parseInt(t,10)||0,k.persistVideoSubtitleTrack(t,e),V.subtitles=t,w.trigger(s.Z_,{tracks:wt(),track:t})}function wt(){return[]}function kt(t){var e,i;k.get("pip")&&k.set("pip",!1),(0,b.jn)(t)||(t=!k.get("fullscreen")),!k.get("allowFullscreen")&&t||(k.set("fullscreen",t),null!=(e=w)&&null!=(i=e._instreamAdapter)&&i._adModel&&w._instreamAdapter._adModel.set("fullscreen",t))}function _t(){V.setMute(k.getMute()),V.setVolume(k.get("volume"))}k.on("change:playReason change:pauseReason",N),w.on(s.WE,(t=>N(null,t.playReason))),w.on(s.Ax,(t=>N(null,t.pauseReason))),k.on("change:scrubbing",(function(t,e){e?(T=k.get("state")!==s._5,mt({reason:"interaction"})):T&&it({reason:"interaction"})})),k.on("change:captionsList",(function(t,e){w.trigger(s.SL,{tracks:e,track:k.get("captionsIndex")||0})})),k.on("change:mediaModel",(function(t,e){var i;t.set("errorEvent",void 0),e.change("mediaState",(function(e,i){var n;t.get("errorEvent")||t.set(s.uc,(n=i)===s.ik||n===s.nQ?s.Kb:n)}),this),e.change("duration",(function(e,i){if(0===i)return;const s=t.get("minDvrWindow"),n=(0,tt.v)(i,s);t.setStreamType(n)}),this);const n="autoplay"===(null==t||null==t.get||null==(i=t.get("related"))?void 0:i.oncomplete);let a=t.get("item")+1,r=t.get("playlist")[a];if(r||n){const t=(i,s)=>{n&&!r&&(a=-1,r=k.get("nextUp"));if(!(r&&!r.daiSetting))return;const o=e.get("duration");s&&o>0&&s>=o-h.l_&&(e.off("change:position",t,this),k.get("backgroundLoading")?V.backgroundLoad(r,a):V.getAsyncItem(a).run())};e.on("change:position",t,this)}})),this.initView=function(t){t&&function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}(t,"adposition")&&y.setupInstream(),y.init(),this.removeShowUIOnContentEventListeners()},this.onAutostartFailed=function(){var t;const e=null==(t=k.get("playlistItem"))?void 0:t.image;y.setPreviewImageForAdLoading(e),this.initView()},this.addShowUIOnContentEventListeners=function(){k.once("change:autostartFailed",this.onAutostartFailed),w.once(s.wh,this.onAutostartFailed),w.once(s.WE,this.initView),w.once("play",this.initView),w.on("containerViewable",y.checkVisibility)},this.removeShowUIOnContentEventListeners=function(){k.off("change:autostartFailed",this.onAutostartFailed),w.off(s.wh,this.onAutostartFailed),w.off(s.WE,this.initView),w.off("play",this.initView),w.off("containerViewable",y.checkVisibility)},this.showUIOnContent=function(){y.updateBounds(),this.addShowUIOnContentEventListeners(),q()},this.playerReady=function(){q()},this.preload=U,this.load=function(t,e){const i=w._instreamAdapter;let n;switch(i&&(i.noResume=!0),w.trigger("destroyPlugin",{}),dt(!0),V.clearItemPromises(),S.cancel(),S=f(D),O.cancel(),(0,et.C)()&&g.prime(),typeof t){case"string":k.attributes.item=0,k.attributes.itemReady=!1,O=f((t=>{if(t)return w.updatePlaylist((0,d.ZP)(t.playlist),t)})),n=function(t){return new Promise(((e,i)=>{const n=new c.Z;n.on(s.Ow,(function(t){e(t)})),n.on(s.pn,i,this),n.load(t)}))}(t).then((t=>O.async(t)));break;case"object":k.attributes.item=0,n=w.updatePlaylist((0,d.ZP)(t),e||{});break;case"number":n=w.setItemIndex(t);break;default:return}n.catch((t=>{w.triggerError((0,v.l9)(t,v.DD))})),n.then((()=>S.async())).catch((t=>j.debug(t)))},this.play=t=>it(t).catch((t=>j.debug(t))),this.pause=mt,this.seek=function(t,e){const i=k.get("state");if(i===s.Vy)return;e&&i===s.r0&&k.get("playReason")!==e.reason&&k.set("playReason",e.reason),V.position=t;const n=i===s.bc;k.get("scrubbing")||!n&&i!==s.xQ||(n&&((e=e||{}).startTime=t),this.play(e))},this.stop=dt,this.playlistItem=ft,this.playlistNext=yt,this.playlistPrev=function(t){ft(k.get("item")-1,t)},this.setCurrentCaptions=bt,this.setCurrentQuality=function(t){V.quality=t},this.setFullscreen=kt,this.setAllowFullscreen=function(t){k.set("allowFullscreen",t),!t&&k.get("fullscreen")&&w.setFullscreen(!1)},this.setPip=function(t){k.get("fullscreen")&&k.set("fullscreen",!1),(0,b.jn)(t)||(t=!k.get("pip")),k.set("pip",t)},this.getCurrentQuality=function(){return V.quality},this.getQualityLevels=function(){return V.qualities},this.setCurrentAudioTrack=function(t){V.audioTrack=t},this.getCurrentAudioTrack=function(){return V.audioTrack},this.getAudioTracks=function(){return V.audioTracks},this.getCurrentCaptions=function(){return-1},this.getCaptionsList=wt,this.getVisualQuality=function(){const t=this._model.get("mediaModel");return t?t.get(s.ug):null},this.getConfig=function(){return this._model?this._model.getConfiguration():void 0},this.getState=X,this.next=ht,this.completeHandler=vt,this.completeCancelled=function(){return!function(){const t=k.get("state");return t===s.bc||t===s.xQ||t===s.Vy}()||!!E&&(E=!1,!0)},this.shouldAutoAdvance=function(){return k.get("item")!==k.get("playlist").length-1},this.getAbsolutePosition=()=>{var t;return(0,ct.e)(null==(t=k)?void 0:t._provider)},this.nextItem=()=>{yt({reason:"playlist"})},this.setConfig=t=>{((t,e)=>{const i=t._model,s=i.attributes;if(e.height&&(e.height=(0,r.a)(e.height),e.width=e.width||s.width),e.width&&(e.width=(0,r.a)(e.width),e.aspectratio?(s.width=e.width,delete e.width):e.height=s.height),e.width&&e.height&&!e.aspectratio&&t._view.resize(e.width,e.height),e.floating){const t=i.get("floating")||{},s=Object.assign({},t,e.floating);-1===o.indexOf(s.mode)?delete e.floating:e.floating=s}Object.keys(e).forEach((n=>{const a=e[n];if(void 0!==a)switch(n){case"aspectratio":i.set(n,(0,r.R)(a,s.width));break;case"autostart":!function(t,e,i){t.setAutoStart(i),"idle"===t.get("state")&&!0===i&&e.play({reason:"autostart"})}(i,t,a);break;case"mute":t.setMute(a);break;case"volume":t.setVolume(a);break;case"playbackRateControls":case"playbackRates":case"repeat":case"stretching":case"floating":i.set(n,a)}}))})(w,t)},this.setItemIndex=t=>{const e=k.get("playlist").length,i=(0,d.bx)(t,e);return V.setActiveItem(i).catch((t=>{if(t.code===v._M){if(V.asyncItems.reduce(((t,e)=>t&&e.skipped),!0))throw t;const e=this.shouldAutoAdvance;return this.shouldAutoAdvance=()=>!1,vt(),k.attributes.itemReady=!0,void(this.shouldAutoAdvance=e)}t.code>=151&&t.code<=162&&(t=(0,v.l9)(t,v.EY)),this.triggerError((0,v.Mm)(v.ul,v.tJ,t))}))},this.getMediaElement=()=>{if(V)return V.mediaElement},this.detachMedia=function(){const t=!x&&!this.isBeforeComplete();return!k.get("enableAdLoadingUI")&&k.get("backgroundLoading")&&t?function(){y.hideAdLoadingUI(!0),k.get("autoPause").viewability&&G(k,k.get("viewable"));w._instreamAdapter.initAdPlayPromise().then((()=>{V.backgroundActiveMedia(),y.hideAdLoadingUI(!1)})).catch((t=>{j.debug(t)}))}():(x&&(M=!0),k.get("autoPause").viewability&&G(k,k.get("viewable")),k.get("backgroundLoading")?void V.backgroundActiveMedia():V.setAttached(!1))},this.attachMedia=function(){k.get("backgroundLoading")?V.restoreBackgroundMedia():V.setAttached(!0),"function"==typeof C&&C()},this.routeEvents=t=>V.routeEvents(t),this.forwardEvents=()=>V.forwardEvents(),this.playVideo=t=>V.playVideo(t),this.stopVideo=()=>V.stopVideo(),this.castVideo=(t,e)=>V.castVideo(t,e),this.requestCast=t=>V.requestCast(t,this._castController||null),this.stopCast=()=>V.stopCast(),this.backgroundActiveMedia=()=>V.backgroundActiveMedia(),this.restoreBackgroundMedia=()=>V.restoreBackgroundMedia(),this.preloadNextItem=()=>{V.background.currentMedia&&V.preloadVideo()},this.isBeforeComplete=()=>V.beforeComplete,this.setVolume=t=>{k.setVolume(t),_t()},this.setMute=t=>{k.setMute(t),_t()},this.setPlaybackRate=t=>{k.setPlaybackRate(t)},this.getProvider=()=>k.get("provider"),this.getWidth=()=>k.get("containerWidth"),this.getHeight=()=>k.get("containerHeight"),this.getItemQoe=()=>k._qoeItem,this.setItemCallback=function(t){V.itemCallback=t},this.getItemPromise=function(t){const e=k.get("playlist");if(t<-1||t>e.length-1||isNaN(t))return null;const i=V.getAsyncItem(t);return i?i.promise:null},this.addButton=function(t,e,i,s,n){let a=k.get("customButtons")||[],r=!1;const o={img:t,tooltip:e,callback:i,id:s,btnClass:n};a=a.reduce(((t,e)=>(e.id===s?(r=!0,t.push(o)):t.push(e),t)),[]),r||a.unshift(o),k.set("customButtons",a)},this.removeButton=function(t){let e=k.get("customButtons")||[];e=e.filter((e=>e.id!==t)),k.set("customButtons",e)},this.resize=this.setCaptions=function(){},this.getSafeRegion=()=>({x:0,y:0,width:0,height:0}),this.checkBeforePlay=function(){return x},this.setControls=function(t){},this.addCues=function(t){this.setCues(k.getCues().concat(t))},this.setCues=function(t){k.setCues(t)},this.getCues=function(){return k.getCues()},this.getChapters=function(){return k.get("playlistItem").chapters.timestamps},this.getCurrentChapter=function(){const t=k.get("state"),e=k.get("playlistItem").chapters.timestamps;if(!e||!e.length||t===s.xQ)return null;if(t===s.bc)return e[0];const i=this.get("currentTime");return(0,P.Mf)(i,e)},this.setChapter=function(t){try{if("object"!=typeof t||Number.isNaN(t.time)||!t.title)return!1;const e=k.get("playlistItem"),i=e.chapters.timestamps;if(!i)return;t instanceof lt.u||(t=new lt.u(t));let s=-1;for(let e=0;e<i.length;e++)if(i[e].time===t.time){s=e;break}-1!==s?i[s]=t:i.push(t),e.chapters.timestamps=i,k.setCues(k.getCues()),k.set("playlistItem",e),k.trigger("change:chapters",k,t)}catch(t){return!1}return!0},this.setPlaylistItem=function(t,e){const i=k.get("playlist"),s=(0,d.bx)(t,i.length),n=V.getAsyncItem(s);if(!n.replace(e))return;const a=i[s];e&&e!==a&&(V.asyncItems[s]=null,n.reject(new Error("Item replaced"))),s===k.get("item")&&"idle"===k.get("state")&&this.setItemIndex(s)},this.isBeforePlay=this.checkBeforePlay,this.createInstream=function(){return this.instreamDestroy(),this._instreamAdapter=new Z(this,k,y,g),this._instreamAdapter},this.instreamDestroy=function(t){var e;this._instreamAdapter&&(t&&(this._instreamAdapter.noResume=!0),this._instreamAdapter.off("state",pt),this._instreamAdapter.destroy(),this._instreamAdapter=null),null==(e=y)||e.off("dismissFloating",gt)},A=this._apiQueue=new l.Z(this,["play","pause","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setAllowFullscreen","setFullscreen"],(()=>!this._model.get("itemReady")||L)),A.queue.push(...u),y&&y.setup()},requestPip(t){this._view&&this._view.requestPip(t)},get(t){if(t in M.L4){const e=this._model.get("mediaModel");return e?e.get(t):M.L4[t]}return this._model.get(t)},getContainer(){return this.currentContainer||this.originalContainer},getMute(){return this._model.getMute()},triggerError(t){const e=this._model;t.message=e.get("localization").errors[t.key],delete t.key,e.set("errorEvent",t),e.set("state",s.Vy),e.once("change:state",(function(){this.set("errorEvent",void 0)}),e),this.trigger(s.pn,t)},updatePlaylist(t,e){const i=this._model;try{const s=(0,d.s7)(t,i,e);(0,d._)(s);const n=Object.assign({},e);delete n.playlist,i.set("feedData",n),i.set("playlist",s)}catch(t){return Promise.reject(t)}return 1===t.length&&1===t[0].sources.length&&"mp4"===t[0].sources[0].type&&i.get("repeat")&&!i.get("advertising")?(i.set("repeat",!1),i.set("loop",!0)):i.set("loop",!1),this.setItemIndex(i.get("item"))}});const ut=dt,mt="afs_ads ad-placement",gt=(t,e)=>{let i,s=!1;t&&(i=(()=>{const t=document.createElement("div");return t.className=mt,t.innerHTML="&nbsp;",t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.background="transparent",t})(),t.element().appendChild(i));return{onReady:()=>{if(s)return!0;t&&document.body.contains(t.element())&&(null!==i.offsetParent&&i.className===mt&&""!==i.innerHTML&&0!==i.clientHeight||(s=!0)),s&&e.trigger("adBlock")},getAdBlock:()=>s}};i(6593);var pt=i(6245);i(2894),i(4101);var ft=i(560);const yt="__jw-ld-json",vt=function(t){const e=t.getElementById(yt);if(null!=e&&e.innerText)try{let t=JSON.parse(e.innerText);return Array.isArray(t)||(t=[t]),t}catch(t){}return[]},bt=function(t,e){if(!t.length||!e)return-1;const i=JSON.stringify(e);for(let e=0;e<t.length;e++){const s=t[e];if(JSON.stringify(s)===i)return e}return-1};class wt{constructor(t,e,i){this.controller_=e,this.item_=t,this.metadata_=null,this.metadataToUpdate_={},this.window_=(null==i?void 0:i.window)||window,this.document_=(null==i?void 0:i.document)||document}addMetadata(){if(this.metadata_)return;this.metadata_=((t,e,i=window)=>{var s;const n={"@context":"https://schema.org","@type":"VideoObject",name:t.title,description:t.description,thumbnailUrl:t.image,potentialAction:{"@type":"SeekToAction",target:(0,ot.O9)(i.location.href),"startOffset-input":"required name=seek_to_second_number"}};if(t.pubdate&&(n.uploadDate=new Date(1e3*t.pubdate).toISOString()),null!=t&&null!=(s=t.sources)&&s.length){const e=(0,b.sE)(t.sources,(t=>"video/mp4"===t.type))||t.sources[0];e&&(n.contentUrl=e.file)}const a=e.getConfig();(0,ft.Z)()?t.mediaid&&a.pid&&(n.embedUrl=`https://cdn.jwplayer.com/players/${t.mediaid}-${a.pid}.html`):n.embedUrl=i.location.href;const r=e.get("duration");return r&&(n.duration=`PT${Math.floor(r/60)}M${Math.round(r)%60}S`),n})(this.item_,this.controller_);const t=vt(this.document_).concat([this.metadata_]);let e=this.document_.getElementById(yt);if(e||(e=this.document_.createElement("script"),e.setAttribute("type","application/ld+json"),e.setAttribute("id",yt),this.document_.head.appendChild(e)),e.innerText=JSON.stringify(t.length>1?t:t[0]),(0,ft.Z)())try{this.window_.parent.postMessage({type:"metadata",generateSEOMetadata:!0,metadata:this.metadata_},"*")}catch(t){}}removeMetadata(){const t=this.document_.getElementById(yt),e=this.metadata_;if(this.metadata_=null,!e||!t)return;const i=vt(this.document_),s=bt(i,e);s>=0&&(i.splice(s,1),i.length?t.innerText=JSON.stringify(i.length>1?i:i[0]):t.parentElement&&t.parentElement.removeChild(t))}updateDurationAsync(t){!this.metadata_.duration&&t&&(this.metadataToUpdate_.duration=`PT${Math.floor(t/60)}M${Math.round(t)%60}S`)}updateChapterCuesAsync(t){var e;if(this.metadata_.hasPart)return;let i;null!=(e=t=t.filter((t=>"ads"!==t.cueType)))&&e.length&&(i=t.map((t=>({"@type":"Clip",name:t.text||"",startOffset:t.begin,endOffset:t.end,url:(0,ot.O9)(window.location.href,Math.floor(t.begin))}))),this.metadataToUpdate_.hasPart=i)}updateScriptTag(){if(!Object.keys(this.metadataToUpdate_).length)return;const t=vt(this.document_),e=bt(t,this.metadata_),i=this.document_.getElementById(yt);if(e>=0&&t.length){if(this.metadata_=Object.assign(this.metadata_,this.metadataToUpdate_),t[e]=this.metadata_,i.innerText=JSON.stringify(t),(0,ft.Z)())try{this.window_.parent.postMessage({type:"metadata",generateSEOMetadata:!0,metadata:this.metadata_},"*")}catch(t){}this.metadataToUpdate_={}}}destroy(){this.destroyed_||(this.destroyed_=!0,this.removeMetadata(),this.window_=null,this.document_=null,this.item_=null,this.controller_=null)}}ut.prototype.osPlayerSetup=ut.prototype.playerSetup,ut.prototype.playerSetup=function(t,e,n,a,r,o){var l;this.osPlayerSetup(t,e,n,a,r,o);this.shouldAutoAdvance;const{_model:c,_view:d,modelShim:h}=this,u=gt(d,this),m=c.get("advertising");if(this.logger=e.utils.logger.child("controller/controller"),null!=h&&null!=(l=h.attributes)&&l.ampController){const t=h.attributes.ampController,e=this.playerReady;this.ampController=t,delete h.attributes.ampController,this.playerReady=function(...i){e.apply(this,i),t.ready(c)}}let g;t.analytics&&(t.sdkplatform=t.sdkplatform||t.analytics.sdkplatform),this.updatePlaylist=function(t,e){const i=[];return(0,pt.g)(t,"images","image"),i.length?(c.attributes.itemReady=!1,Promise.all(i).then((()=>ut.prototype.updatePlaylist.call(this,t,e)))):ut.prototype.updatePlaylist.call(this,t,e)};const p=(t,e)=>{0},f=()=>(g||(g=i.e(926).then((t=>new(0,i(8460).default)(d,c,e)).bind(null,i)).catch((t=>{throw t})).catch((t=>{this.logger.error("jwplayer.stats:",t)}))),g);e.getAdBlock=u.getAdBlock,this.once(s.gO,(t=>{c.on("change:playlistItem",p,this);null==m||m.outstream;c.get("generateSEOMetadata")&&(this._seoMetadataManager=new wt(t.item,this),this._seoMetadataManager.addMetadata(),this.updateMetadataAsync=setTimeout((()=>{if(this.updateMetadataAsync=null,!this._seoMetadataManager)return;const t=c.getCues();null!=t&&t.length&&this._seoMetadataManager.updateChapterCuesAsync(t),this._seoMetadataManager.updateDurationAsync(this.get("duration")),this._seoMetadataManager.updateScriptTag()}),4e3)),c.on("change:displayStats",((t,e)=>{e?f().then((t=>t.show())):!1===e&&f().then((t=>t.hide()))}),this)}),this),null!=m&&m.outstream&&function(t,e){const{_model:i,_view:n}=t;let a=!1,r=e.height,o=e.width;const l=t.getHeight;t.getHeight=function(){const t=i.get("aspectratio");return t?Math.round(i.get("containerWidth")*parseFloat(t)/100):r};const c=t.getWidth;t.getWidth=function(){return(0,b.hj)(o)?o:c.call(this)},i.setAutoStart("viewable"),t.setMute(!0),t.setItemIndex=function(){return i.setActiveItem(0),Promise.resolve()},t.updatePlaylist=function(){return i.set("playlist",[{sources:[{}]}]),i.attributes.itemReady=!0,this.setItemIndex(0)};const d=t.attachMedia;t.attachMedia=t.playerDestroy;const h=()=>(a||i.set("repeat",!1),i.get("backgroundLoading")||t._programController.mediaPool.clean(),i.set("state",s.xQ),t._programController.trigger(s.Ms,{}),d.call(t));t._programController.playVideo=function(){return Promise.resolve()};const u=t.createInstream;t.createInstream=function(){const e=u.call(this);return e.noResume=!0,a=!1,e.on("state",(({newstate:e})=>{e!==s.ik&&e!==s.r0||(t.attachMedia=h,t.getHeight=l,t.getWidth=c,n&&(n.resize=void 0),a=!0)})),e}}(this,t)},ut.prototype.osDestroy=ut.prototype.destroy,ut.prototype.destroy=function(){this._seoMetadataManager&&(this._seoMetadataManager.destroy(),this._seoMetadataManager=null,this.updateMetadataAsync&&clearTimeout(this.updateMetadataAsync)),this.osDestroy()};const kt=ut},6245:(t,e,i)=>{i.d(e,{g:()=>a});var s=i(6234);let n;const a=(t,e,i)=>{const a=(()=>{try{n=window.localStorage.jwplayerLocalId}catch(t){}return n=n||(0,s.B)(12)})();t.forEach((t=>{const{variations:s}=t;if(null!=s&&s[e]){s.selected=s.selected||{};const n=((t,e)=>{const i=(t=>{let e=1794770992;for(let i=0,s=t.length;i<s;i++)e^=t.charCodeAt(i),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0})(t)%2520,s=e.reduce(((t,e)=>t+e.weight),0);let n=0;for(let t=0;t<e.length;t++){const a=e[t];if(n+=2520*a.weight/s,n>i)return a}})(a,s[e]),r=n[i];r&&(t[i]=r,s.selected[e]=n)}}))}},3296:(t,e,i)=>{i.d(e,{Z:()=>l});var s=i(2799),n=i(74),a=i(1776),r=i(7683),o=i(5099);class l{constructor(t,e,i,s,n){this.hoverElement=e,this.item=i,this.model=s,this.onView=n,this.type=t,this.container=null,this.played=!1,this.seeking=!1,this.completed=!1,this.src=i.videoThumbnail,this.video=(0,r.V)({class:"jw-reset jw-video-thumbnail"}),this.video.muted=!0,this.onPlay=this.onPlay.bind(this),this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onError=this.onError.bind(this)}adapt(){var t;const{video:e}=this;switch(this.type){case"overlayItem":this.container=this.hoverElement.querySelector(".jw-related-item-poster"),null!=this&&null!=(t=this.container)&&t.parentElement&&!this.hoverElement.className.match(/jw-related-item-next-up/)&&(this.hoverElement=this.container.parentElement);break;case"widgetItem":this.container=this.hoverElement.querySelector(".jw-related-shelf-item-image");break;case"shelfItem":default:break;case"posterItem":e.setAttribute("loop","")}this.container||(this.container=(0,s.az)('<div class="jw-video-thumbnail-generated"></div>'))}onPlay(){const{video:t}=this;return this.src?((0,s.cn)(this.video,"jw-video-thumbnail-visible"),t&&!t.src&&(t.src=this.src,t.load()),this.completed&&(t.currentTime=0,(0,s.IV)(t,"jw-video-thumbnail-completed"),this.completed=!1),n.OS.iOS?Promise.resolve(this.seekPlay()):this.asyncPlay()):this.destroy()}onPause(){(0,s.IV)(this.video,"jw-video-thumbnail-visible"),this.seeking=!1,this.video.pause()}onEnded(){"posterItem"!==this.type&&(0,s.cn)(this.video,"jw-video-thumbnail-completed"),this.completed=!0,this.seeking=!1}onFirstFrame(){this.played=!0,"function"==typeof this.onView&&this.onView(this.item)}onError(){this.destroy()}onViewPoster(t,e){if(e)return this.onPlay();this.onPause()}asyncPlay(){const t=this.video;return(t.play()||(0,o.Z)(t)).then((()=>{this.played||this.onFirstFrame()})).catch((t=>{if(20!==t.code)return 9!==t.code&&"Failed to load because no supported source was found."!==t.message?this.seekPlay():void this.destroy()}))}seekPlay(){const t=this.video,e=t.hasAttribute("loop");let i=0;const s=this.seek=n=>{if(!this.seeking)return;if(!t.duration)return(0,a.U)(s);i||(i=n);let r=(n-i)/1e3;e?r%=t.duration:r=Math.min(r,t.duration),t.currentTime=r,t.duration>r||e?(0,a.U)(s):this.onEnded()},n=this.handleSeek=()=>{this.onFirstFrame(),this.video.removeEventListener("seeked",n)};this.played||this.video.addEventListener("seeked",n),this.seeking=!0,(0,a.U)(s)}addEventListeners(){"posterItem"===this.type?(this.model.once("change:state",this.destroy,this),this.model.on("change:viewable",this.onViewPoster,this)):(n.OS.mobile||(this.hoverElement.addEventListener("mouseenter",this.onPlay),this.hoverElement.addEventListener("mouseleave",this.onPause)),this.video.addEventListener("ended",this.onEnded)),this.video.addEventListener("error",this.onError)}removeEventListeners(){"posterItem"===this.type?(this.model.off("change: state",this.destroy,this),this.model.off("change:viewable",this.onViewPoster,this)):(n.OS.mobile||(this.hoverElement.removeEventListener("mouseenter",this.onPlay),this.hoverElement.removeEventListener("mouseleave",this.onPause)),this.video.removeEventListener("ended",this.onEnded)),this.video.removeEventListener("error",this.onError),this.handleSeek&&this.video.removeEventListener("seeked",this.handleSeek)}init(){this.adapt(this.hoverElement.className),(0,s.cn)(this.container,"jw-video-thumbnail-container"),"widgetItem"===this.type?(0,s.SH)(this.container,this.video):this.container.appendChild(this.video),this.container.parentElement&&"posterItem"!==this.type?"shelfItem"===this.type&&(0,s.SH)(this.hoverElement,this.container):this.hoverElement.appendChild(this.container),this.addEventListeners(),"posterItem"===this.type&&this.model.get("viewable")&&this.onViewPoster(null,!0)}isDestroyed(){return!this.video}destroy(){this.isDestroyed()||(this.removeEventListeners(),this.seeking=!1,this.seek&&(0,a.W)(this.seek),this.onPause(),this.video.removeAttribute("src"),this.video.load(),this.container&&(this.container.removeChild(this.video),this.container.className.match(/jw-video-thumbnail-generated/)?this.container.parentNode.removeChild(this.container):(0,s.IV)(this.container,"jw-video-thumbnail-container")),this.video=null,this.container=null)}}}}]);